{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SnehaReddy/OneDrive%20-%20ZapCom%20Solutions%20Pvt.%20ltd/Desktop/New-LMs/frontend/src/app/instructor/dashboard/page.jsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst InstructorDashboard = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    videoUrl: '',\r\n  });\r\n\r\n  const token =\r\n    typeof window !== 'undefined' ? localStorage.getItem('token') : '';\r\n\r\n  // Fetch courses\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    axios\r\n      .get('http://localhost:4000/api/course/instructor', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => setCourses(res.data.courses))\r\n      .catch((err) => console.error(err));\r\n  }, [token]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        'http://localhost:4000/api/course/upload',\r\n        form,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      );\r\n\r\n      alert('Course uploaded successfully');\r\n      setCourses([res.data.course, ...courses]); // Add new course to top\r\n      setForm({ title: '', description: '', videoUrl: '' }); // Clear form\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to upload course');\r\n    }\r\n  };\r\n\r\n  // Handle form change\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Delete course\r\n  const handleDelete = async (id) => {\r\n    if (!confirm('Are you sure you want to delete this course?')) return;\r\n\r\n    try {\r\n      await axios.delete(`http://localhost:4000/api/course/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      setCourses((prev) => prev.filter((c) => c._id !== id));\r\n      alert('Course deleted successfully');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to delete course');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">ðŸ“š Instructor Dashboard</h2>\r\n\r\n      {/* Upload Form */}\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"bg-white p-4 rounded shadow space-y-4 mb-6\"\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={form.title}\r\n          onChange={handleChange}\r\n          placeholder=\"Course Title\"\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          required\r\n        />\r\n        <textarea\r\n          name=\"description\"\r\n          value={form.description}\r\n          onChange={handleChange}\r\n          placeholder=\"Course Description\"\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n        />\r\n        <input\r\n          type=\"url\"\r\n          name=\"videoUrl\"\r\n          value={form.videoUrl}\r\n          onChange={handleChange}\r\n          placeholder=\"Video URL (e.g., YouTube link)\"\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          required\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-green-600 text-white py-2 px-4 rounded hover:bg-blue-700\"\r\n        >\r\n          Upload Course\r\n        </button>\r\n      </form>\r\n\r\n      {/* Display Uploaded Courses */}\r\n      <ul className=\"space-y-4\">\r\n        {courses.map((course) => (\r\n          <li key={course._id} className=\"border p-3 rounded bg-white shadow\">\r\n            <h3 className=\"text-lg font-semibold\">{course.title}</h3>\r\n            <p>{course.description}</p>\r\n            <a\r\n              href={course.videoUrl}\r\n              className=\"text-blue-500 underline\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Watch Video\r\n            </a>\r\n            <br />\r\n            <button\r\n              onClick={() => handleDelete(course._id)}\r\n              className=\"mt-2 bg-green-600 text-white px-3 py-1 rounded hover:bg-red-700\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstructorDashboard;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIA,MAAM,sBAAsB;IAC1B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IAEA,MAAM,QACJ,6EAAgE;IAElE,gBAAgB;IAChB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAY;;IAUd,GAAG;QAAC;KAAM;IAEV,yBAAyB;IACzB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI;YACF,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAC1B,2CACA,MACA;gBACE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAChC,gBAAgB;gBAClB;YACF;YAGF,MAAM;YACN,WAAW;gBAAC,IAAI,IAAI,CAAC,MAAM;mBAAK;aAAQ,GAAG,wBAAwB;YACnE,QAAQ;gBAAE,OAAO;gBAAI,aAAa;gBAAI,UAAU;YAAG,IAAI,aAAa;QACtE,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,qBAAqB;IACrB,MAAM,eAAe,CAAC;QACpB,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IAEA,gBAAgB;IAChB,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,iDAAiD;QAE9D,IAAI;YACF,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,CAAC,iCAAiC,EAAE,IAAI,EAAE;gBAC3D,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF;YAEA,WAAW,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,GAAG,KAAK;YAClD,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAGxC,8OAAC;gBACC,UAAU;gBACV,WAAU;;kCAEV,8OAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO,KAAK,KAAK;wBACjB,UAAU;wBACV,aAAY;wBACZ,WAAU;wBACV,QAAQ;;;;;;kCAEV,8OAAC;wBACC,MAAK;wBACL,OAAO,KAAK,WAAW;wBACvB,UAAU;wBACV,aAAY;wBACZ,WAAU;;;;;;kCAEZ,8OAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO,KAAK,QAAQ;wBACpB,UAAU;wBACV,aAAY;wBACZ,WAAU;wBACV,QAAQ;;;;;;kCAEV,8OAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAMH,8OAAC;gBAAG,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wBAAoB,WAAU;;0CAC7B,8OAAC;gCAAG,WAAU;0CAAyB,OAAO,KAAK;;;;;;0CACnD,8OAAC;0CAAG,OAAO,WAAW;;;;;;0CACtB,8OAAC;gCACC,MAAM,OAAO,QAAQ;gCACrB,WAAU;gCACV,QAAO;gCACP,KAAI;0CACL;;;;;;0CAGD,8OAAC;;;;;0CACD,8OAAC;gCACC,SAAS,IAAM,aAAa,OAAO,GAAG;gCACtC,WAAU;0CACX;;;;;;;uBAfM,OAAO,GAAG;;;;;;;;;;;;;;;;AAuB7B;uCAEe","debugId":null}}]
}