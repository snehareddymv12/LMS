{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SnehaReddy/OneDrive%20-%20ZapCom%20Solutions%20Pvt.%20ltd/Desktop/New-LMs/frontend/src/app/admin/group/page.jsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Link from 'next/link';\r\n\r\nconst AdminGroupPage = () => {\r\n  const [groupName, setGroupName] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const token = typeof window !== 'undefined' ? localStorage.getItem('token') : '';\r\n\r\n  // Fetch all users\r\n  useEffect(() => {\r\n    if (!token) return;\r\n\r\n    axios\r\n      .get('http://localhost:4000/api/group/users', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      .then((res) => setUsers(res.data.users))\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setMessage('❌ Failed to fetch users');\r\n      });\r\n  }, [token]);\r\n\r\n  // Submit group creation\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .post(\r\n        'http://localhost:4000/api/group/create',\r\n        {\r\n          name: groupName,\r\n          userIds: selectedUsers\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        }\r\n      )\r\n      .then(() => {\r\n        setMessage('✅ Group created successfully');\r\n        setGroupName('');\r\n        setSelectedUsers([]);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setMessage('❌ Group creation failed');\r\n      });\r\n  };\r\n\r\n  const handleUserSelect = (userId) => {\r\n    setSelectedUsers((prev) =>\r\n      prev.includes(userId) ? prev.filter((id) => id !== userId) : [...prev, userId]\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">👥 Create New Group</h2>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4 bg-white p-6 rounded shadow max-w-lg\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Group Name\"\r\n          value={groupName}\r\n          onChange={(e) => setGroupName(e.target.value)}\r\n          className=\"w-full border px-3 py-2 rounded\"\r\n          required\r\n        />\r\n\r\n        <div>\r\n          <h3 className=\"font-semibold mb-2\">Select Users:</h3>\r\n          <div className=\"space-y-1 max-h-48 overflow-y-auto border p-2 rounded\">\r\n            {users.length === 0 ? (\r\n              <p className=\"text-sm text-gray-500\">No users found.</p>\r\n            ) : (\r\n              users.map((user) => (\r\n                <label key={user._id} className=\"block\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={user._id}\r\n                    checked={selectedUsers.includes(user._id)}\r\n                    onChange={() => handleUserSelect(user._id)}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  {user.name} ({user.email})\r\n                </label>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\">\r\n          Create Group\r\n        </button>\r\n      </form>\r\n\r\n      {/* Message output */}\r\n      {message && <p className=\"mt-4 font-semibold text-green-600\">{message}</p>}\r\n\r\n      {/* 🔗 Links section */}\r\n      <div className=\"mt-6 flex space-x-6\">\r\n        <Link href=\"/admin/groups\" className=\"text-blue-600 underline font-medium\">\r\n          📋 View Created Groups\r\n        </Link>\r\n        <Link href=\"/admin/assign\" className=\"text-purple-600 underline font-medium\">\r\n          🎯 Assign Courses\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminGroupPage;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKA,MAAM,iBAAiB;IACrB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,QAAQ,6EAAgE;IAE9E,kBAAkB;IAClB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAY;;IAad,GAAG;QAAC;KAAM;IAEV,wBAAwB;IACxB,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAEhB,qIAAA,CAAA,UAAK,CACF,IAAI,CACH,0CACA;YACE,MAAM;YACN,SAAS;QACX,GACA;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAChC,gBAAgB;YAClB;QACF,GAED,IAAI,CAAC;YACJ,WAAW;YACX,aAAa;YACb,iBAAiB,EAAE;QACrB,GACC,KAAK,CAAC,CAAC;YACN,QAAQ,KAAK,CAAC;YACd,WAAW;QACb;IACJ;IAEA,MAAM,mBAAmB,CAAC;QACxB,iBAAiB,CAAC,OAChB,KAAK,QAAQ,CAAC,UAAU,KAAK,MAAM,CAAC,CAAC,KAAO,OAAO,UAAU;mBAAI;gBAAM;aAAO;IAElF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC5C,WAAU;wBACV,QAAQ;;;;;;kCAGV,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,8OAAC;gCAAI,WAAU;0CACZ,MAAM,MAAM,KAAK,kBAChB,8OAAC;oCAAE,WAAU;8CAAwB;;;;;2CAErC,MAAM,GAAG,CAAC,CAAC,qBACT,8OAAC;wCAAqB,WAAU;;0DAC9B,8OAAC;gDACC,MAAK;gDACL,OAAO,KAAK,GAAG;gDACf,SAAS,cAAc,QAAQ,CAAC,KAAK,GAAG;gDACxC,UAAU,IAAM,iBAAiB,KAAK,GAAG;gDACzC,WAAU;;;;;;4CAEX,KAAK,IAAI;4CAAC;4CAAG,KAAK,KAAK;4CAAC;;uCARf,KAAK,GAAG;;;;;;;;;;;;;;;;kCAe5B,8OAAC;wBAAO,MAAK;wBAAS,WAAU;kCAA6D;;;;;;;;;;;;YAM9F,yBAAW,8OAAC;gBAAE,WAAU;0BAAqC;;;;;;0BAG9D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAgB,WAAU;kCAAsC;;;;;;kCAG3E,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAgB,WAAU;kCAAwC;;;;;;;;;;;;;;;;;;AAMrF;uCAEe","debugId":null}}]
}