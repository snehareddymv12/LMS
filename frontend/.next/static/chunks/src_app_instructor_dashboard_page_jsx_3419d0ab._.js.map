{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SnehaReddy/OneDrive%20-%20ZapCom%20Solutions%20Pvt.%20ltd/Desktop/LMS/frontend/src/app/instructor/dashboard/page.jsx"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst InstructorDashboard = () => {\n  const [courses, setCourses] = useState([]);\n  const [form, setForm] = useState({\n    title: '',\n    description: '',\n    videoUrl: '',\n  });\n\n  const token =\n    typeof window !== 'undefined' ? localStorage.getItem('token') : '';\n\n  // Fetch courses\n  useEffect(() => {\n    if (!token) return;\n\n    axios\n      .get('http://localhost:4000/api/course/instructor', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((res) => setCourses(res.data.courses))\n      .catch((err) => console.error(err));\n  }, [token]);\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const res = await axios.post(\n        'http://localhost:4000/api/course/upload',\n        form,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n      alert('Course uploaded successfully');\n      setCourses([res.data.course, ...courses]); // Add new course to top\n      setForm({ title: '', description: '', videoUrl: '' }); // Clear form\n    } catch (err) {\n      console.error(err);\n      alert('Failed to upload course');\n    }\n  };\n\n  // Handle form change\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  // Delete course\n  const handleDelete = async (id) => {\n    if (!confirm('Are you sure you want to delete this course?')) return;\n\n    try {\n      await axios.delete(`http://localhost:4000/api/course/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      setCourses((prev) => prev.filter((c) => c._id !== id));\n      alert('Course deleted successfully');\n    } catch (err) {\n      console.error(err);\n      alert('Failed to delete course');\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">ðŸ“š Instructor Dashboard</h2>\n\n      {/* Upload Form */}\n      <form\n        onSubmit={handleSubmit}\n        className=\"bg-white p-4 rounded shadow space-y-4 mb-6\"\n      >\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={form.title}\n          onChange={handleChange}\n          placeholder=\"Course Title\"\n          className=\"w-full border px-3 py-2 rounded\"\n          required\n        />\n        <textarea\n          name=\"description\"\n          value={form.description}\n          onChange={handleChange}\n          placeholder=\"Course Description\"\n          className=\"w-full border px-3 py-2 rounded\"\n        />\n        <input\n          type=\"url\"\n          name=\"videoUrl\"\n          value={form.videoUrl}\n          onChange={handleChange}\n          placeholder=\"Video URL (e.g., YouTube link)\"\n          className=\"w-full border px-3 py-2 rounded\"\n          required\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-green-600 text-white py-2 px-4 rounded hover:bg-blue-700\"\n        >\n          Upload Course\n        </button>\n      </form>\n\n      {/* Display Uploaded Courses */}\n      <ul className=\"space-y-4\">\n        {courses.map((course) => (\n          <li key={course._id} className=\"border p-3 rounded bg-white shadow\">\n            <h3 className=\"text-lg font-semibold\">{course.title}</h3>\n            <p>{course.description}</p>\n            <a\n              href={course.videoUrl}\n              className=\"text-blue-500 underline\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Watch Video\n            </a>\n            <br />\n            <button\n              onClick={() => handleDelete(course._id)}\n              className=\"mt-2 bg-green-600 text-white px-3 py-1 rounded hover:bg-red-700\"\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default InstructorDashboard;\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIA,MAAM,sBAAsB;;IAC1B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IAEA,MAAM,QACJ,uCAAgC,aAAa,OAAO,CAAC;IAEvD,gBAAgB;IAChB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACR,IAAI,CAAC,OAAO;YAEZ,wIAAA,CAAA,UAAK,CACF,GAAG,CAAC,+CAA+C;gBAClD,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF,GACC,IAAI;iDAAC,CAAC,MAAQ,WAAW,IAAI,IAAI,CAAC,OAAO;gDACzC,KAAK;iDAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC;;QAClC;wCAAG;QAAC;KAAM;IAEV,yBAAyB;IACzB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI;YACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAC1B,2CACA,MACA;gBACE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAChC,gBAAgB;gBAClB;YACF;YAGF,MAAM;YACN,WAAW;gBAAC,IAAI,IAAI,CAAC,MAAM;mBAAK;aAAQ,GAAG,wBAAwB;YACnE,QAAQ;gBAAE,OAAO;gBAAI,aAAa;gBAAI,UAAU;YAAG,IAAI,aAAa;QACtE,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,qBAAqB;IACrB,MAAM,eAAe,CAAC;QACpB,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IAEA,gBAAgB;IAChB,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,iDAAiD;QAE9D,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,CAAC,iCAAiC,EAAE,IAAI,EAAE;gBAC3D,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF;YAEA,WAAW,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,GAAG,KAAK;YAClD,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAGxC,6LAAC;gBACC,UAAU;gBACV,WAAU;;kCAEV,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO,KAAK,KAAK;wBACjB,UAAU;wBACV,aAAY;wBACZ,WAAU;wBACV,QAAQ;;;;;;kCAEV,6LAAC;wBACC,MAAK;wBACL,OAAO,KAAK,WAAW;wBACvB,UAAU;wBACV,aAAY;wBACZ,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,OAAO,KAAK,QAAQ;wBACpB,UAAU;wBACV,aAAY;wBACZ,WAAU;wBACV,QAAQ;;;;;;kCAEV,6LAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAMH,6LAAC;gBAAG,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;wBAAoB,WAAU;;0CAC7B,6LAAC;gCAAG,WAAU;0CAAyB,OAAO,KAAK;;;;;;0CACnD,6LAAC;0CAAG,OAAO,WAAW;;;;;;0CACtB,6LAAC;gCACC,MAAM,OAAO,QAAQ;gCACrB,WAAU;gCACV,QAAO;gCACP,KAAI;0CACL;;;;;;0CAGD,6LAAC;;;;;0CACD,6LAAC;gCACC,SAAS,IAAM,aAAa,OAAO,GAAG;gCACtC,WAAU;0CACX;;;;;;;uBAfM,OAAO,GAAG;;;;;;;;;;;;;;;;AAuB7B;GA9IM;KAAA;uCAgJS","debugId":null}}]
}